package:
  name: split_packages_file_list
  version: 1.0

requirements:
  run:
    - my_script_subpackage_files
    - my_script_subpackage_include_exclude

outputs:
  - name: my_script_subpackage_files
    build:
      ignore_run_exports_from:
        - dav1d
    requirements:
      host:
        - dav1d=1.2.1
    files:
      - subpackage_file1
      - somedir
      - "*.ext"
      # Libs should match because they are in the prefix
      - "lib/libdav1d*"
      - "Library/bin/dav1d*"
    test:
      script: subpackage_test.py
      script_interpreter: python
  - name: my_script_subpackage_include_exclude
    build:
      ignore_run_exports_from:
        - dav1d
    requirements:
      host:
        - dav1d=1.2.1
    files:
      include:
        - subpackage_file1
        - somedir
        - "*.ext"
        # Libs should not match because they come from a different package
        - "lib/libdav1d*"
        - "Library/bin/dav1d*"
      exclude:
        - "*3.ext"
    test:
      script: subpackage_test.py
      script_interpreter: python
